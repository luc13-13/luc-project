<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lc.product.center.mapper.SkuItemCombinationMapper">

    <!-- 动态条件查询 -->
    <sql id="Base_Select">
        SELECT id, tenant_id, sku_code, product_code, sub_product_code,
               billing_item_code, sub_billing_item_code, quantity, pricing_included,
               created_by, dt_created, modified_by, dt_modified
        FROM sku_item_combination
    </sql>

    <select id="selectByCondition" resultType="com.lc.product.center.domain.entity.SkuItemCombinationDO"
            parameterType="com.lc.product.center.domain.dto.SkuItemCombinationDTO">
        <include refid="Base_Select"/>
        <where>
            <if test="tenantId != null and tenantId != ''">
                AND tenant_id = #{tenantId}
            </if>
            <if test="skuCode != null and skuCode != ''">
                AND sku_code = #{skuCode}
            </if>
            <if test="productCode != null and productCode != ''">
                AND product_code = #{productCode}
            </if>
            <if test="subProductCode != null and subProductCode != ''">
                AND sub_product_code = #{subProductCode}
            </if>
            <if test="billingItemCode != null and billingItemCode != ''">
                AND billing_item_code = #{billingItemCode}
            </if>
            <if test="subBillingItemCode != null and subBillingItemCode != ''">
                AND sub_billing_item_code = #{subBillingItemCode}
            </if>
            <if test="pricingIncluded != null">
                AND pricing_included = #{pricingIncluded}
            </if>
        </where>
        ORDER BY dt_created DESC
    </select>

</mapper>
